System.register(["./index-legacy-ohZ91zZw.js"],(function(e,a){"use strict";var t,i,s,o,l,r,n,d,v,c,m,u,f,g,w,p,h,b,y,x;return{setters:[e=>{t=e.d,i=e.r,s=e.c,o=e.i,l=e.j,r=e.k,n=e.a,d=e.l,v=e.b,c=e.f,m=e.w,u=e.u,f=e.P,g=e.o,w=e.L,p=e.p,h=e.F,b=e.q,y=e.t,x=e._}],execute:function(){var a=document.createElement("style");a.textContent='@charset "UTF-8";.social-page[data-v-532e2151]{width:100vw;background-color:#f9f9fb;min-height:100vh;box-sizing:border-box;position:relative;padding-top:14.4vw;padding-bottom:13.33333vw}.top-bar[data-v-532e2151]{position:fixed;top:0;left:0;width:100%;height:14.4vw;background-color:rgba(255,255,255,.98);backdrop-filter:blur(2.66667vw);box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;padding:0 4.26667vw;box-shadow:0 1px 3.2vw rgba(0,0,0,.05);z-index:100}.top-bar-tabs[data-v-532e2151]{display:flex;gap:6.4vw}.tab-item[data-v-532e2151]{font-size:4.53333vw;font-weight:500;color:#777;position:relative;padding:0 .53333vw;transition:color .2s}.tab-item.active[data-v-532e2151]{color:#333;font-weight:600}.tab-item.active[data-v-532e2151]:after{content:"";position:absolute;bottom:-1.6vw;left:50%;transform:translate(-50%);width:5.33333vw;height:.8vw;background-color:#ff6b81;border-radius:.8vw}.top-bar-actions[data-v-532e2151]{display:flex;gap:4vw}.search-icon[data-v-532e2151],.message-icon[data-v-532e2151]{font-size:5.33333vw;color:#333}.content-area[data-v-532e2151]{width:100%;padding:2.13333vw;box-sizing:border-box;background-color:#f8f9fa}.pull-refresh-container[data-v-532e2151]{width:100%;overflow:visible}.pull-refresh-container[data-v-532e2151] .van-pull-refresh__head{width:100%;margin-top:2.66667vw}.waterfall-container[data-v-532e2151]{display:flex;width:100%;gap:2.13333vw;padding:1.06667vw 0}.waterfall-column[data-v-532e2151]{flex:1;display:flex;flex-direction:column;gap:3.2vw}.waterfall-item[data-v-532e2151]{background-color:#fff;border-radius:3.2vw;overflow:hidden;box-shadow:0 .53333vw 2.13333vw rgba(0,0,0,.06);margin-bottom:0;transition:transform .2s,box-shadow .2s}.waterfall-item[data-v-532e2151]:not(.user-recommend-section):active{transform:scale(.98)}.user-recommend-section[data-v-532e2151]{padding:4.26667vw;background:linear-gradient(to right,#fff9f9,#fff);border-left:.8vw solid #ff6b81;transform:none!important}.section-header[data-v-532e2151]{margin-bottom:3.2vw}.section-title[data-v-532e2151]{font-size:4.26667vw;font-weight:600;color:#333;position:relative;padding-left:2.66667vw;letter-spacing:.5px}.section-title[data-v-532e2151]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:.8vw;height:4.26667vw;background-color:#ff6b81;border-radius:.8vw}.user-list[data-v-532e2151]{display:flex;flex-direction:column;gap:3.73333vw}.user-item[data-v-532e2151]{display:flex;align-items:center;padding:1.06667vw 0}.user-avatar-container[data-v-532e2151]{position:relative;margin-right:3.2vw}.recommend-user-avatar[data-v-532e2151]{width:12.8vw;height:12.8vw;border-radius:50%;object-fit:cover;border:.53333vw solid #fff;box-shadow:0 .53333vw 1.6vw rgba(0,0,0,.1)}.user-level[data-v-532e2151]{position:absolute;right:-.8vw;bottom:-.8vw;width:5.33333vw;height:5.33333vw;background-color:#ff6b81;color:#fff;border-radius:50%;font-size:2.93333vw;display:flex;justify-content:center;align-items:center;border:.53333vw solid #fff;font-weight:700}.user-info-content[data-v-532e2151]{flex:1}.user-nickname[data-v-532e2151]{font-size:4vw;font-weight:600;color:#333;margin-bottom:1.06667vw}.user-desc[data-v-532e2151]{font-size:3.46667vw;color:#777;line-height:1.3}.follow-btn[data-v-532e2151]{width:7.46667vw;height:7.46667vw;background:linear-gradient(135deg,#ff6b81,#ff4757);color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-weight:700;font-size:4.8vw;box-shadow:0 .53333vw 1.6vw rgba(255,75,87,.3);transition:transform .2s}.follow-btn[data-v-532e2151]:active{transform:scale(.9)}.item-media[data-v-532e2151]{width:100%;position:relative;overflow:hidden}.item-image[data-v-532e2151]{width:100%;display:block;object-fit:cover;transition:transform .3s}.item-video[data-v-532e2151]{width:100%;display:block;object-fit:cover}.waterfall-item:hover .item-image[data-v-532e2151]{transform:scale(1.03)}.item-content[data-v-532e2151]{padding:3.2vw}.item-title[data-v-532e2151]{font-size:4vw;line-height:1.4;color:#333;margin-bottom:2.66667vw;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;font-weight:500}.item-info[data-v-532e2151]{display:flex;justify-content:space-between;align-items:center;font-size:3.46667vw;color:#999}.user-info[data-v-532e2151]{display:flex;align-items:center}.user-avatar[data-v-532e2151]{width:6.4vw;height:6.4vw;border-radius:50%;margin-right:1.6vw;border:1px solid rgba(255,255,255,.6)}.user-name[data-v-532e2151]{max-width:21.33333vw;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#666}.item-stats[data-v-532e2151]{display:flex;align-items:center}.like-count[data-v-532e2151]{display:flex;align-items:center;color:#ff6b81;font-weight:500}.like-count[data-v-532e2151]:before{content:"❤️";margin-right:.8vw;font-size:3.2vw}.floating-button[data-v-532e2151]{position:fixed;right:5.33333vw;bottom:18.66667vw;width:14.4vw;height:14.4vw;background:linear-gradient(135deg,#ff6b81,#ff4757);border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 .8vw 3.2vw rgba(255,75,87,.4);z-index:99;color:#fff;font-size:7.46667vw;font-weight:700;cursor:pointer;transition:transform .2s,box-shadow .2s}.floating-button[data-v-532e2151]:active{transform:scale(.95);box-shadow:0 .53333vw 2.13333vw rgba(255,75,87,.3)}.icon-add[data-v-532e2151]{margin-left:-.53333vw}.bottom-bar[data-v-532e2151]{position:fixed;bottom:0;left:0;width:100%;height:13.33333vw;background-color:#fff;display:flex;justify-content:space-around;align-items:center;z-index:100}.bottom-bar-item[data-v-532e2151]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.2vw;color:#777;height:100%;padding:1.33333vw 0;box-sizing:border-box;opacity:.85;transition:opacity .2s,color .2s}.bottom-bar-item i[data-v-532e2151]{font-size:5.33333vw;margin-bottom:.53333vw}.bottom-bar-item.active[data-v-532e2151]{color:#ff6b81;font-weight:500;opacity:1}.empty-state[data-v-532e2151]{width:100%;height:60vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:5.33333vw 0;color:#999;backdrop-filter:blur(1.06667vw);border-radius:3.2vw;margin:5.33333vw 0}.empty-icon[data-v-532e2151]{font-size:14.4vw;margin-bottom:5.33333vw;opacity:.7}.empty-text[data-v-532e2151]{font-size:4.53333vw;font-weight:500;color:#777}\n/*$vite$:1*/',document.head.appendChild(a);const k={class:"social-page"},z={class:"content-area"},j={key:0,class:"waterfall-container"},M={class:"waterfall-column"},_={key:0,class:"waterfall-item user-recommend-section"},$=["onClick"],C={class:"item-media"},B=["src"],T=["src"],q={class:"item-content"},F={class:"item-title"},U={class:"item-info"},V={class:"user-info"},D=["src"],E={class:"user-name"},L={class:"item-stats"},P={class:"like-count"},R={class:"waterfall-column"},A={key:0,class:"waterfall-item user-recommend-section"},I=["onClick"],S={class:"item-media"},Y=["src"],G=["src"],H={class:"item-content"},J={class:"item-title"},K={class:"item-info"},N={class:"user-info"},O=["src"],Q={class:"user-name"},W={class:"item-stats"},X={class:"like-count"},Z={key:1,class:"empty-state"},ee=t({__name:"index",setup(e){const a=o(),t=i(!1),x=i(!1),ee=i(!1),ae=i([]),te=i(1),ie=i(5),se=s((()=>a.query.category||"all")),oe=s((()=>a.query.type||"all")),le=i(""),re=i("");l([se,oe],(([e,a])=>{e===le.value&&a===re.value||(le.value=e,re.value=a,te.value=1,x.value=!1,ae.value.length>0?he(!0):he())}));const ne=["/src/assets/video/text.mp4","https://www.w3schools.com/html/mov_bbb.mp4","https://www.w3schools.com/html/movie.mp4","https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4","https://media.w3.org/2010/05/sintel/trailer.mp4","https://media.w3.org/2010/05/bunny/trailer.mp4","https://media.w3.org/2010/05/video/movie_300.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"],de=["游戏","美食","旅行","音乐","科技","宠物"],ve=s((()=>ge(ae.value).filter(((e,a)=>a%2==0)))),ce=s((()=>ge(ae.value).filter(((e,a)=>a%2==1)))),me=s((()=>"all"===se.value||de.includes(se.value))),ue=s((()=>Math.random()>.5)),fe=s((()=>Math.min(1,Math.floor(Math.random()*Math.max(ce.value.length,ve.value.length,2))))),ge=e=>{let a=[...e];return"all"!==se.value&&(a=a.filter((e=>e.category===se.value))),"video"===oe.value?a=a.filter((e=>"video"===e.type)):"image"===oe.value&&(a=a.filter((e=>"image"===e.type))),a},we=e=>ne[e%ne.length],pe=()=>new Promise((e=>{if("all"!==(a=se.value)&&!de.includes(a))return ee.value=!1,void setTimeout((()=>{e([])}),1e3);var a;setTimeout((()=>{const a=Array.from({length:ie.value},((e,a)=>{const t=(te.value-1)*ie.value+a+1,i=Math.random()>.7,s=Math.floor(150*Math.random())+150,o=(()=>{const e=Math.floor(Math.random()*de.length);return de[e]})();return{id:t,title:`${i?"[视频]":""}${o}内容${t}，这是一段示例文字`,url:i?we(t):`https://picsum.photos/200/${s}?random=${t}`,type:i?"video":"image",username:`用户${t}`,avatar:`https://randomuser.me/api/portraits/thumb/men/${t%100}.jpg`,likes:Math.floor(1e3*Math.random()),timestamp:(new Date).getTime(),category:o}}));e(a)}),1e3)})),he=async(e=!1)=>{if(!ee.value)try{t.value=!0;const a=await pe();e?ae.value=a:(ae.value.push(...a),te.value++),(te.value>5||"all"!==se.value&&a.length<ie.value)&&(x.value=!0)}catch(a){console.error("加载数据失败",a)}finally{t.value=!1}},be=async()=>{try{console.log("🚀 ~ onRefresh ~ 下拉刷新"),te.value=1,x.value=!1;const e=await pe();ae.value=e,t.value=!1}catch(e){console.error("刷新数据失败",e)}finally{ee.value=!1}},ye=e=>{console.log("点击了内容项",e)};return r((()=>{le.value=se.value,re.value=oe.value})),(e,a)=>(g(),n("div",k,[a[5]||(a[5]=d('<div class="top-bar" data-v-532e2151><div class="top-bar-tabs" data-v-532e2151><div class="tab-item active" data-v-532e2151>发现</div><div class="tab-item" data-v-532e2151>游戏圈</div></div><div class="top-bar-actions" data-v-532e2151><div class="search-icon" data-v-532e2151><i class="iconfont icon-search" data-v-532e2151>🔍</i></div><div class="message-icon" data-v-532e2151><i class="iconfont icon-message" data-v-532e2151>📨</i></div></div></div>',1)),v("div",z,[c(u(f),{modelValue:ee.value,"onUpdate:modelValue":a[1]||(a[1]=e=>ee.value=e),"head-height":50,onRefresh:be,class:"pull-refresh-container"},{default:m((()=>[c(u(w),{loading:t.value,"onUpdate:loading":a[0]||(a[0]=e=>t.value=e),finished:x.value,"success-text":"刷新成功","finished-text":ve.value.length>0||ce.value.length>0?"没有更多了":"",onLoad:he},{default:m((()=>[ve.value.length>0||ce.value.length>0?(g(),n("div",j,[v("div",M,[(g(!0),n(h,null,b(ve.value,((e,t)=>(g(),n(h,{key:e.id||"recommend-"+t},[me.value&&!ue.value&&t===fe.value&&ve.value.length>0?(g(),n("div",_,a[2]||(a[2]=[v("div",{class:"section-header"},[v("div",{class:"section-title"},"优质用户推荐")],-1),v("div",{class:"user-list"},[v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"6")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"不想太无聊"),v("div",{class:"user-desc"},"不知真假的忧愁！")]),v("div",{class:"follow-btn"},"+")]),v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"4")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"背空千嬅"),v("div",{class:"user-desc"},"喜欢瞎重温旧作")]),v("div",{class:"follow-btn"},"+")])],-1)]))):p("",!0),v("div",{class:"waterfall-item",onClick:a=>ye(e)},[v("div",C,["video"===e.type?(g(),n("video",{key:0,class:"item-video",src:e.url,controls:"",preload:"metadata"},null,8,B)):(g(),n("img",{key:1,src:e.url,class:"item-image"},null,8,T))]),v("div",q,[v("div",F,y(e.title),1),v("div",U,[v("div",V,[v("img",{src:e.avatar,class:"user-avatar"},null,8,D),v("span",E,y(e.username),1)]),v("div",L,[v("span",P,y(e.likes),1)])])])],8,$)],64)))),128))]),v("div",R,[(g(!0),n(h,null,b(ce.value,((e,t)=>(g(),n(h,{key:e.id||"recommend-"+t},[me.value&&ue.value&&t===fe.value&&ce.value.length>0?(g(),n("div",A,a[3]||(a[3]=[v("div",{class:"section-header"},[v("div",{class:"section-title"},"优质用户推荐")],-1),v("div",{class:"user-list"},[v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"6")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"不想太无聊"),v("div",{class:"user-desc"},"不知真假的忧愁！")]),v("div",{class:"follow-btn"},"+")]),v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"4")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"背空千嬅"),v("div",{class:"user-desc"},"喜欢瞎重温旧作")]),v("div",{class:"follow-btn"},"+")])],-1)]))):p("",!0),v("div",{class:"waterfall-item",onClick:a=>ye(e)},[v("div",S,["video"===e.type?(g(),n("video",{key:0,class:"item-video",src:e.url,controls:"",preload:"metadata"},null,8,Y)):(g(),n("img",{key:1,src:e.url,class:"item-image"},null,8,G))]),v("div",H,[v("div",J,y(e.title),1),v("div",K,[v("div",N,[v("img",{src:e.avatar,class:"user-avatar"},null,8,O),v("span",Q,y(e.username),1)]),v("div",W,[v("span",X,y(e.likes),1)])])])],8,I)],64)))),128))])])):p("",!0),t.value||0!==ve.value.length||0!==ce.value.length?p("",!0):(g(),n("div",Z,a[4]||(a[4]=[v("div",{class:"empty-icon"},"📭",-1),v("div",{class:"empty-text"},y("该分类暂无内容"),-1)])))])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["modelValue"])]),a[6]||(a[6]=d('<div class="floating-button" data-v-532e2151><i class="iconfont icon-add" data-v-532e2151>+</i></div><div class="bottom-bar" data-v-532e2151><div class="bottom-bar-item" data-v-532e2151><i class="iconfont icon-home" data-v-532e2151>🏠</i><span data-v-532e2151>首页</span></div><div class="bottom-bar-item active" data-v-532e2151><i class="iconfont icon-discover" data-v-532e2151>🔎</i><span data-v-532e2151>社区</span></div><div class="bottom-bar-item" data-v-532e2151><i class="iconfont icon-star" data-v-532e2151>⭐</i><span data-v-532e2151>收藏</span></div><div class="bottom-bar-item" data-v-532e2151><i class="iconfont icon-profile" data-v-532e2151>👤</i><span data-v-532e2151>我的</span></div><div class="bottom-bar-item" data-v-532e2151><i class="iconfont icon-setting" data-v-532e2151>⚙️</i><span data-v-532e2151>设置</span></div></div>',2))]))}});e("default",x(ee,[["__scopeId","data-v-532e2151"]]))}}}));
