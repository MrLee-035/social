System.register(["./index-legacy-BVg3tJta.js"],(function(a,e){"use strict";var t,i,s,o,l,n,r,d,v,c,m,u,f,g,w,p,h,b,y,x;return{setters:[a=>{t=a.d,i=a.r,s=a.c,o=a.i,l=a.j,n=a.k,r=a.a,d=a.l,v=a.b,c=a.f,m=a.w,u=a.u,f=a.P,g=a.o,w=a.L,p=a.p,h=a.F,b=a.q,y=a.t,x=a._}],execute:function(){var e=document.createElement("style");e.textContent='@charset "UTF-8";.social-page[data-v-10aae415]{width:100vw;background-color:#f9f9fb;min-height:100vh;box-sizing:border-box;position:relative;padding-top:14.4vw;padding-bottom:13.33333vw}.top-bar[data-v-10aae415]{position:fixed;top:0;left:0;width:100%;height:14.4vw;background-color:rgba(255,255,255,.98);backdrop-filter:blur(2.66667vw);box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;padding:0 4.26667vw;box-shadow:0 1px 3.2vw rgba(0,0,0,.05);z-index:100}.top-bar-tabs[data-v-10aae415]{display:flex;gap:6.4vw}.tab-item[data-v-10aae415]{font-size:4.53333vw;font-weight:500;color:#777;position:relative;padding:0 .53333vw;transition:color .2s}.tab-item.active[data-v-10aae415]{color:#333;font-weight:600}.tab-item.active[data-v-10aae415]:after{content:"";position:absolute;bottom:-1.6vw;left:50%;transform:translate(-50%);width:5.33333vw;height:.8vw;background-color:#ff6b81;border-radius:.8vw}.top-bar-actions[data-v-10aae415]{display:flex;gap:4vw}.search-icon[data-v-10aae415],.message-icon[data-v-10aae415]{font-size:5.33333vw;color:#333}.content-area[data-v-10aae415]{width:100%;padding:2.13333vw;box-sizing:border-box;background-color:#f8f9fa}.pull-refresh-container[data-v-10aae415]{width:100%;overflow:visible}.pull-refresh-container[data-v-10aae415] .van-pull-refresh__head{width:100%;margin-top:2.66667vw}.waterfall-container[data-v-10aae415]{display:flex;width:100%;gap:2.13333vw;padding:1.06667vw 0}.waterfall-column[data-v-10aae415]{flex:1;display:flex;flex-direction:column;gap:3.2vw}.waterfall-item[data-v-10aae415]{background-color:#fff;border-radius:3.2vw;overflow:hidden;box-shadow:0 .53333vw 2.13333vw rgba(0,0,0,.06);margin-bottom:0;transition:transform .2s,box-shadow .2s}.waterfall-item[data-v-10aae415]:not(.user-recommend-section):active{transform:scale(.98)}.user-recommend-section[data-v-10aae415]{padding:4.26667vw;background:linear-gradient(to right,#fff9f9,#fff);border-left:.8vw solid #ff6b81;transform:none!important}.section-header[data-v-10aae415]{margin-bottom:3.2vw}.section-title[data-v-10aae415]{font-size:4.26667vw;font-weight:600;color:#333;position:relative;padding-left:2.66667vw;letter-spacing:.5px}.section-title[data-v-10aae415]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:.8vw;height:4.26667vw;background-color:#ff6b81;border-radius:.8vw}.user-list[data-v-10aae415]{display:flex;flex-direction:column;gap:3.73333vw}.user-item[data-v-10aae415]{display:flex;align-items:center;padding:1.06667vw 0}.user-avatar-container[data-v-10aae415]{position:relative;margin-right:3.2vw}.recommend-user-avatar[data-v-10aae415]{width:12.8vw;height:12.8vw;border-radius:50%;object-fit:cover;border:.53333vw solid #fff;box-shadow:0 .53333vw 1.6vw rgba(0,0,0,.1)}.user-level[data-v-10aae415]{position:absolute;right:-.8vw;bottom:-.8vw;width:5.33333vw;height:5.33333vw;background-color:#ff6b81;color:#fff;border-radius:50%;font-size:2.93333vw;display:flex;justify-content:center;align-items:center;border:.53333vw solid #fff;font-weight:700}.user-info-content[data-v-10aae415]{flex:1}.user-nickname[data-v-10aae415]{font-size:4vw;font-weight:600;color:#333;margin-bottom:1.06667vw}.user-desc[data-v-10aae415]{font-size:3.46667vw;color:#777;line-height:1.3}.follow-btn[data-v-10aae415]{width:7.46667vw;height:7.46667vw;background:linear-gradient(135deg,#ff6b81,#ff4757);color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-weight:700;font-size:4.8vw;box-shadow:0 .53333vw 1.6vw rgba(255,75,87,.3);transition:transform .2s}.follow-btn[data-v-10aae415]:active{transform:scale(.9)}.item-media[data-v-10aae415]{width:100%;position:relative;overflow:hidden}.item-image[data-v-10aae415]{width:100%;display:block;object-fit:cover;transition:transform .3s}.item-video[data-v-10aae415]{width:100%;display:block;object-fit:cover}.waterfall-item:hover .item-image[data-v-10aae415]{transform:scale(1.03)}.item-content[data-v-10aae415]{padding:3.2vw}.item-title[data-v-10aae415]{font-size:4vw;line-height:1.4;color:#333;margin-bottom:2.66667vw;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;font-weight:500}.item-info[data-v-10aae415]{display:flex;justify-content:space-between;align-items:center;font-size:3.46667vw;color:#999}.user-info[data-v-10aae415]{display:flex;align-items:center}.user-avatar[data-v-10aae415]{width:6.4vw;height:6.4vw;border-radius:50%;margin-right:1.6vw;border:1px solid rgba(255,255,255,.6)}.user-name[data-v-10aae415]{max-width:21.33333vw;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#666}.item-stats[data-v-10aae415]{display:flex;align-items:center}.like-count[data-v-10aae415]{display:flex;align-items:center;color:#ff6b81;font-weight:500}.like-count[data-v-10aae415]:before{content:"❤️";margin-right:.8vw;font-size:3.2vw}.floating-button[data-v-10aae415]{position:fixed;right:5.33333vw;bottom:18.66667vw;width:14.4vw;height:14.4vw;background:linear-gradient(135deg,#ff6b81,#ff4757);border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 .8vw 3.2vw rgba(255,75,87,.4);z-index:99;color:#fff;font-size:7.46667vw;font-weight:700;cursor:pointer;transition:transform .2s,box-shadow .2s}.floating-button[data-v-10aae415]:active{transform:scale(.95);box-shadow:0 .53333vw 2.13333vw rgba(255,75,87,.3)}.icon-add[data-v-10aae415]{margin-left:-.53333vw}.bottom-bar[data-v-10aae415]{position:fixed;bottom:0;left:0;width:100%;height:13.33333vw;background-color:#fff;display:flex;justify-content:space-around;align-items:center;z-index:100}.bottom-bar-item[data-v-10aae415]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.2vw;color:#777;height:100%;padding:1.33333vw 0;box-sizing:border-box;opacity:.85;transition:opacity .2s,color .2s}.bottom-bar-item i[data-v-10aae415]{font-size:5.33333vw;margin-bottom:.53333vw}.bottom-bar-item.active[data-v-10aae415]{color:#ff6b81;font-weight:500;opacity:1}.empty-state[data-v-10aae415]{width:100%;height:60vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:5.33333vw 0;color:#999;backdrop-filter:blur(1.06667vw);border-radius:3.2vw;margin:5.33333vw 0}.empty-icon[data-v-10aae415]{font-size:14.4vw;margin-bottom:5.33333vw;opacity:.7}.empty-text[data-v-10aae415]{font-size:4.53333vw;font-weight:500;color:#777}\n/*$vite$:1*/',document.head.appendChild(e);const k={class:"social-page"},z={class:"content-area"},j={key:0,class:"waterfall-container"},M={class:"waterfall-column"},_={key:0,class:"waterfall-item user-recommend-section"},$=["onClick"],C={class:"item-media"},B=["src"],T=["src"],q={class:"item-content"},F={class:"item-title"},U={class:"item-info"},V={class:"user-info"},D=["src"],E={class:"user-name"},L={class:"item-stats"},P={class:"like-count"},R={class:"waterfall-column"},A={key:0,class:"waterfall-item user-recommend-section"},I=["onClick"],S={class:"item-media"},Y=["src"],G=["src"],H={class:"item-content"},J={class:"item-title"},K={class:"item-info"},N={class:"user-info"},O=["src"],Q={class:"user-name"},W={class:"item-stats"},X={class:"like-count"},Z={key:1,class:"empty-state"},aa=t({__name:"index",setup(a){const e=o(),t=i(!1),x=i(!1),aa=i(!1),ea=i([]),ta=i(1),ia=i(5),sa=s((()=>e.query.category||"all")),oa=s((()=>e.query.type||"all")),la=i(""),na=i("");l([sa,oa],(([a,e])=>{a===la.value&&e===na.value||(la.value=a,na.value=e,ta.value=1,x.value=!1,ea.value.length>0?ha(!0):ha())}));const ra=["https://www.w3schools.com/html/mov_bbb.mp4","https://www.w3schools.com/html/movie.mp4","https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4","https://media.w3.org/2010/05/sintel/trailer.mp4","https://media.w3.org/2010/05/bunny/trailer.mp4","https://media.w3.org/2010/05/video/movie_300.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"],da=["游戏","美食","旅行","音乐","科技","宠物"],va=s((()=>ga(ea.value).filter(((a,e)=>e%2==0)))),ca=s((()=>ga(ea.value).filter(((a,e)=>e%2==1)))),ma=s((()=>"all"===sa.value||da.includes(sa.value))),ua=s((()=>Math.random()>.5)),fa=s((()=>Math.min(1,Math.floor(Math.random()*Math.max(ca.value.length,va.value.length,2))))),ga=a=>{let e=[...a];return"all"!==sa.value&&(e=e.filter((a=>a.category===sa.value))),"video"===oa.value?e=e.filter((a=>"video"===a.type)):"image"===oa.value&&(e=e.filter((a=>"image"===a.type))),e},wa=a=>ra[a%ra.length],pa=()=>new Promise((a=>{if("all"!==(e=sa.value)&&!da.includes(e))return aa.value=!1,void setTimeout((()=>{a([])}),1e3);var e;setTimeout((()=>{const e=Array.from({length:ia.value},((a,e)=>{const t=(ta.value-1)*ia.value+e+1,i=Math.random()>.7,s=Math.floor(150*Math.random())+150,o=(()=>{const a=Math.floor(Math.random()*da.length);return da[a]})();return{id:t,title:`${i?"[视频]":""}${o}内容${t}，这是一段示例文字`,url:i?wa(t):`https://picsum.photos/200/${s}?random=${t}`,type:i?"video":"image",username:`用户${t}`,avatar:`https://randomuser.me/api/portraits/thumb/men/${t%100}.jpg`,likes:Math.floor(1e3*Math.random()),timestamp:(new Date).getTime(),category:o}}));a(e)}),1e3)})),ha=async(a=!1)=>{if(!aa.value)try{t.value=!0;const e=await pa();a?ea.value=e:(ea.value.push(...e),ta.value++),(ta.value>5||"all"!==sa.value&&e.length<ia.value)&&(x.value=!0)}catch(e){console.error("加载数据失败",e)}finally{t.value=!1}},ba=async()=>{try{console.log("🚀 ~ onRefresh ~ 下拉刷新"),ta.value=1,x.value=!1;const a=await pa();ea.value=a,t.value=!1}catch(a){console.error("刷新数据失败",a)}finally{aa.value=!1}},ya=a=>{console.log("点击了内容项",a)};return n((()=>{la.value=sa.value,na.value=oa.value})),(a,e)=>(g(),r("div",k,[e[5]||(e[5]=d('<div class="top-bar" data-v-10aae415><div class="top-bar-tabs" data-v-10aae415><div class="tab-item active" data-v-10aae415>发现</div><div class="tab-item" data-v-10aae415>游戏圈</div></div><div class="top-bar-actions" data-v-10aae415><div class="search-icon" data-v-10aae415><i class="iconfont icon-search" data-v-10aae415>🔍</i></div><div class="message-icon" data-v-10aae415><i class="iconfont icon-message" data-v-10aae415>📨</i></div></div></div>',1)),v("div",z,[c(u(f),{modelValue:aa.value,"onUpdate:modelValue":e[1]||(e[1]=a=>aa.value=a),"head-height":50,onRefresh:ba,class:"pull-refresh-container"},{default:m((()=>[c(u(w),{loading:t.value,"onUpdate:loading":e[0]||(e[0]=a=>t.value=a),finished:x.value,"success-text":"刷新成功","finished-text":va.value.length>0||ca.value.length>0?"没有更多了":"",onLoad:ha},{default:m((()=>[va.value.length>0||ca.value.length>0?(g(),r("div",j,[v("div",M,[(g(!0),r(h,null,b(va.value,((a,t)=>(g(),r(h,{key:a.id||"recommend-"+t},[ma.value&&!ua.value&&t===fa.value&&va.value.length>0?(g(),r("div",_,e[2]||(e[2]=[v("div",{class:"section-header"},[v("div",{class:"section-title"},"优质用户推荐")],-1),v("div",{class:"user-list"},[v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"6")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"不想太无聊"),v("div",{class:"user-desc"},"不知真假的忧愁！")]),v("div",{class:"follow-btn"},"+")]),v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"4")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"背空千嬅"),v("div",{class:"user-desc"},"喜欢瞎重温旧作")]),v("div",{class:"follow-btn"},"+")])],-1)]))):p("",!0),v("div",{class:"waterfall-item",onClick:e=>ya(a)},[v("div",C,["video"===a.type?(g(),r("video",{key:0,class:"item-video",src:a.url,controls:"",preload:"metadata"},null,8,B)):(g(),r("img",{key:1,src:a.url,class:"item-image"},null,8,T))]),v("div",q,[v("div",F,y(a.title),1),v("div",U,[v("div",V,[v("img",{src:a.avatar,class:"user-avatar"},null,8,D),v("span",E,y(a.username),1)]),v("div",L,[v("span",P,y(a.likes),1)])])])],8,$)],64)))),128))]),v("div",R,[(g(!0),r(h,null,b(ca.value,((a,t)=>(g(),r(h,{key:a.id||"recommend-"+t},[ma.value&&ua.value&&t===fa.value&&ca.value.length>0?(g(),r("div",A,e[3]||(e[3]=[v("div",{class:"section-header"},[v("div",{class:"section-title"},"优质用户推荐")],-1),v("div",{class:"user-list"},[v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"6")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"不想太无聊"),v("div",{class:"user-desc"},"不知真假的忧愁！")]),v("div",{class:"follow-btn"},"+")]),v("div",{class:"user-item"},[v("div",{class:"user-avatar-container"},[v("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",class:"recommend-user-avatar"}),v("div",{class:"user-level"},"4")]),v("div",{class:"user-info-content"},[v("div",{class:"user-nickname"},"背空千嬅"),v("div",{class:"user-desc"},"喜欢瞎重温旧作")]),v("div",{class:"follow-btn"},"+")])],-1)]))):p("",!0),v("div",{class:"waterfall-item",onClick:e=>ya(a)},[v("div",S,["video"===a.type?(g(),r("video",{key:0,class:"item-video",src:a.url,controls:"",preload:"metadata"},null,8,Y)):(g(),r("img",{key:1,src:a.url,class:"item-image"},null,8,G))]),v("div",H,[v("div",J,y(a.title),1),v("div",K,[v("div",N,[v("img",{src:a.avatar,class:"user-avatar"},null,8,O),v("span",Q,y(a.username),1)]),v("div",W,[v("span",X,y(a.likes),1)])])])],8,I)],64)))),128))])])):p("",!0),t.value||0!==va.value.length||0!==ca.value.length?p("",!0):(g(),r("div",Z,e[4]||(e[4]=[v("div",{class:"empty-icon"},"📭",-1),v("div",{class:"empty-text"},y("该分类暂无内容"),-1)])))])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["modelValue"])]),e[6]||(e[6]=d('<div class="floating-button" data-v-10aae415><i class="iconfont icon-add" data-v-10aae415>+</i></div><div class="bottom-bar" data-v-10aae415><div class="bottom-bar-item" data-v-10aae415><i class="iconfont icon-home" data-v-10aae415>🏠</i><span data-v-10aae415>首页</span></div><div class="bottom-bar-item active" data-v-10aae415><i class="iconfont icon-discover" data-v-10aae415>🔎</i><span data-v-10aae415>社区</span></div><div class="bottom-bar-item" data-v-10aae415><i class="iconfont icon-star" data-v-10aae415>⭐</i><span data-v-10aae415>收藏</span></div><div class="bottom-bar-item" data-v-10aae415><i class="iconfont icon-profile" data-v-10aae415>👤</i><span data-v-10aae415>我的</span></div><div class="bottom-bar-item" data-v-10aae415><i class="iconfont icon-setting" data-v-10aae415>⚙️</i><span data-v-10aae415>设置</span></div></div>',2))]))}});a("default",x(aa,[["__scopeId","data-v-10aae415"]]))}}}));
